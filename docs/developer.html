<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>OpenClaw Developer Console</title>
  <link rel="preconnect" href="https://api.fontshare.com">
  <link rel="preconnect" href="https://cdn.fontshare.com" crossorigin>
  <link href="https://api.fontshare.com/v2/css?f[]=clash-display@700,600,500&f[]=satoshi@400,500,700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./developer.css" />
</head>
<body>
  <div class="stars"></div>
  <div class="nebula"></div>

  <main class="wrap">
    <section class="card hero">
      <h1>OpenClaw Developer Console</h1>
      <p class="muted">仅开发者使用。所有写操作会校验开发者钱包地址。</p>
      <div class="row">
        <a href="./index.html"><button class="secondary">返回官网</button></a>
        <a href="./whitepaper.html" target="_blank" rel="noopener noreferrer"><button class="secondary">查看白皮书</button></a>
      </div>
    </section>

    <section class="card">
      <h2>OpenClaw (OCL)</h2>
      <p class="muted">网络: <span id="networkLabel"></span> (chainId <span id="chainIdLabel"></span>)</p>
      <p class="muted">合约: <a class="mono" id="contractLink" target="_blank" rel="noopener noreferrer"></a></p>
      <div class="row">
        <button id="connect">连接钱包</button>
        <button id="addToken" class="secondary">添加 OCL 到钱包</button>
        <span id="account" class="muted"></span>
      </div>
      <div class="row">
        <button id="balance">查询 OCL 余额</button>
        <span id="balanceOut" class="muted"></span>
      </div>
      <div class="row">
        <b><span id="nativeLabel">原生币余额:</span></b>
        <span id="nativeOut" class="muted">-</span>
      </div>
      <p id="ownerHint" class="muted status"></p>
      <div class="row">
        <input id="to" placeholder="收款地址" />
        <input id="amount" placeholder="数量" />
        <button id="send">转账</button>
      </div>
      <div class="col">
        <p class="muted">批量空投: 每行一个 `地址,数量`，示例 `0xabc...,100`</p>
        <textarea id="bulkInput" placeholder="0x123...,10&#10;0x456...,25"></textarea>
        <div class="row">
          <button id="bulkPreview" class="secondary">预览空投</button>
          <button id="bulkSend" class="warn">执行空投</button>
        </div>
      </div>
      <p id="status" class="muted status"></p>
    </section>

    <section class="card">
      <h2>发行看板</h2>
      <div class="row">
        <button id="refreshStats" class="secondary">刷新看板</button>
      </div>
      <div class="grid-2">
        <div class="kv"><b>总发行量</b><span id="statTotal">-</span></div>
        <div class="kv"><b>开发者持仓</b><span id="statOwner">-</span></div>
        <div class="kv"><b>开发者持仓占比</b><span id="statOwnerPct">-</span></div>
        <div class="kv"><b>持币地址数</b><span id="statHolders">-</span></div>
      </div>
      <p id="statsStatus" class="muted status"></p>
    </section>

    <section class="card">
      <h2>最近转账历史</h2>
      <p class="muted">已分配总额: <span id="historyTotal" class="mono">0 OCL</span></p>
      <div class="row">
        <button id="refreshHistory" class="secondary">刷新历史</button>
        <button id="clearHistory" class="secondary">清空历史</button>
      </div>
      <ul id="historyList" class="history-list muted"></ul>
    </section>

    <section class="card">
      <h2>Hyperliquid 永续 (去中心化)</h2>
      <p class="muted">当前版本: 行情 + 交易入口（下单在 Hyperliquid 官方页面完成）</p>
      <div class="row">
        <select id="hlSymbol"></select>
        <button id="hlRefresh" class="secondary">刷新行情</button>
      </div>
      <div class="grid-2">
        <div class="kv"><b>中间价 Mid</b><span id="hlMid">-</span></div>
        <div class="kv"><b>标记价 Mark</b><span id="hlMark">-</span></div>
        <div class="kv"><b>资金费率 Funding</b><span id="hlFunding">-</span></div>
        <div class="kv"><b>24h 变动</b><span id="hlDay">-</span></div>
      </div>
      <div class="row">
        <select id="hlSide">
          <option value="LONG">LONG</option>
          <option value="SHORT">SHORT</option>
        </select>
        <input id="hlLeverage" type="number" min="1" step="1" value="5" placeholder="杠杆" />
        <input id="hlSize" type="number" min="0" step="0.001" placeholder="名义仓位(USD)" />
      </div>
      <div class="row">
        <button id="hlCheck" class="warn">下单前检查</button>
        <button id="hlTrade">去 Hyperliquid 下单</button>
      </div>
      <p id="hlStatus" class="muted status"></p>
    </section>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/ethers@6.13.2/dist/ethers.umd.min.js"></script>
  <script src="./config.js"></script>
  <script src="./developer.js"></script>
</body>
</html>
